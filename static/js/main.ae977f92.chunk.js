(this["webpackJsonpnews-reader-app"]=this["webpackJsonpnews-reader-app"]||[]).push([[0],{186:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return ue}));var c,a,r=n(22),s=n(14),i=n(0),o=n.n(i),u=n(28),l=n.n(u),d=n(324),j=(n(186),n(330)),b=n(141),f=n.n(b),O=n(2),h=localStorage.getItem("searchValue")||"",p=function(e){var t=e.searchValue,n=Object(i.useState)(h),c=Object(s.a)(n,2),a=c[0],r=c[1];Object(i.useEffect)((function(){t(a),localStorage.setItem("searchValue",a)}),[a]);return Object(O.jsx)(j.a,{label:"search",value:a,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){13===e.keyCode&&t(a)},size:"small",placeholder:"Search here..",variant:"outlined",InputProps:{startAdornment:Object(O.jsx)(f.a,{})}})},m=n(29),x=n(159),g=n(344),v=n(345),y=n(347),w=n(346),k=n(343),N=n(342),S=n(143),Q=n.n(S),C=n(341),I=n(338),E=n(331),A=n(326),V=n(335),F=n(325),q=n(51),_=n.n(q),L=n(67),D=function(){var e=Object(L.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://get.scrapehero.com/news-api/sources/?x-api-key=IHEwbeb7kN3f7I3Qizc1FqAJVexvcKUE",e.next=3,fetch("https://get.scrapehero.com/news-api/sources/?x-api-key=IHEwbeb7kN3f7I3Qizc1FqAJVexvcKUE");case 3:return e.next=5,e.sent.json();case 5:return t=e.sent,e.abrupt("return",t.sources);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(L.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://get.scrapehero.com/news-api/categories/?x-api-key=IHEwbeb7kN3f7I3Qizc1FqAJVexvcKUE",e.next=3,fetch("https://get.scrapehero.com/news-api/categories/?x-api-key=IHEwbeb7kN3f7I3Qizc1FqAJVexvcKUE");case 3:return e.next=5,e.sent.json();case 5:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=[{sentiment:"Positive"},{sentiment:"Negative"},{sentiment:"Neutral"}],Y=function(e){var t=e.callback,n=Object(i.useState)([{default:""}]),c=Object(s.a)(n,2),a=c[0],r=c[1];return Object(O.jsxs)(C.a,{noValidate:!0,component:"form",sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingBottom:"20px"},children:[Object(O.jsxs)(I.a,{style:{minWidth:120},children:[Object(O.jsx)(E.a,{id:"demo-simple-select-label",children:"Filter"}),Object(O.jsxs)(A.a,{label:"filter",id:"demo-simple-select",onChange:function(e){switch(console.log(e.target.value),r([{default:""}]),e.target.value.toString()){case"20":D().then((function(e){return r(e)}));break;case"10":J().then((function(e){return r(e)}));break;case"30":r(H)}},children:[Object(O.jsx)(V.a,{value:10,children:"Category"}),Object(O.jsx)(V.a,{value:20,children:"Source"}),Object(O.jsx)(V.a,{value:30,children:"Sentiment"})]})]}),"category"in a[0]?Object(O.jsx)(F.a,{onChange:function(e,n){return t({categories:n})},style:{minWidth:600},multiple:!0,id:"tags-standard",options:a,getOptionLabel:function(e){return e.category},renderInput:function(e){return Object(O.jsx)(j.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard"}))}}):"name"in a[0]?Object(O.jsx)(F.a,{onChange:function(e,n){return t({sources:n})},style:{minWidth:600},multiple:!0,id:"tags-standard",options:a,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(O.jsx)(j.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard"}))}}):"sentiment"in a[0]?Object(O.jsx)(F.a,{onChange:function(e,n){return t({sentiments:n})},style:{minWidth:600},id:"tags-standard",options:a,getOptionLabel:function(e){return e.sentiment},renderInput:function(e){return Object(O.jsx)(j.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard"}))}}):Object(O.jsx)(F.a,{style:{minWidth:600},multiple:!0,id:"tags-standard",options:a,getOptionLabel:function(e){return e.default},renderInput:function(e){return Object(O.jsx)(j.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard"}))}})]})},z=["children","onClose"],W=function(e){var t=e.children,n=e.onClose,c=Object(x.a)(e,z);return Object(O.jsxs)(k.a,Object(m.a)(Object(m.a)({sx:{m:0,p:2}},c),{},{children:[t,n?Object(O.jsx)(N.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(O.jsx)(Q.a,{})}):null]}))},K=JSON.parse(localStorage.getItem("query")||"[]"),P=function(e){var t=e.callback,n=Object(i.useState)(1),c=Object(s.a)(n,2),a=c[0],u=c[1],l=o.a.useState(!1),d=Object(s.a)(l,2),j=d[0],b=d[1],f=Object(i.useState)(K),h=Object(s.a)(f,2),p=h[0],m=h[1],x=Object(i.useState)({categories:[]}),k=Object(s.a)(x,2),N=k[0],S=k[1],Q=Object(i.useState)({sources:[]}),C=Object(s.a)(Q,2),I=C[0],E=C[1],A=Object(i.useState)([]),V=Object(s.a)(A,2),F=(V[0],V[1]),q=Object(i.useState)({sentiments:[]}),_=Object(s.a)(q,2),L=_[0],D=_[1],J=Object(i.useState)([{id:1,name:"",domain:"us.cnn.com"}]),H=Object(s.a)(J,2);H[0],H[1];Object(i.useEffect)((function(){m({categoryQuery:N,sourceQuery:I,sentimentQuery:L})}),[N,L,I]),Object(i.useEffect)((function(){localStorage.setItem("query",JSON.stringify(p))}),[p]);Object(i.useEffect)((function(){M()}),[]);var z=function(){b(!1)};console.log(j);var P=function(e){"categories"in e?S(e):"sources"in e?E(e):"sentiments"in e&&D(e)},M=function(){var e=[],t=1;"undefined"!==typeof p.categoryQuery.categories&&p.categoryQuery.categories.length>0&&(t++,e=[].concat(Object(r.a)(e),[{option:"10",values:p.categoryQuery.categories}])),"undefined"!==typeof p.sourceQuery.sources&&p.sourceQuery.sources.length>0&&(t++,e=[].concat(Object(r.a)(e),[{option:"10",values:p.sourceQuery.sources}])),"undefined"!==typeof p.sentimentQuery.sentiments.sentiment&&(t++,e=[].concat(Object(r.a)(e),[{option:"20",values:p.sentimentQuery.sentiments}])),4===t&&(t=3),u(t),F(e)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g.a,{style:{textTransform:"none",marginLeft:".5em",height:"40px"},variant:"outlined",className:"searchbutton",onClick:function(){b(!0)},color:"primary",children:"Advance Search"}),Object(O.jsxs)(v.a,{maxWidth:"md",fullWidth:!0,open:j,onClose:z,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(W,{id:"customized-dialog-title",onClose:z,children:"Advanced Search"}),Object(O.jsx)(w.a,{dividers:!0,children:Object(O.jsxs)(w.a,{children:[Object(O.jsx)(g.a,{onClick:function(){return u((function(e){return e+1}))},variant:"outlined",sx:{marginBottom:"20px"},disabled:a>2,children:"Add Filter"}),Object(r.a)(Array(a)).map((function(e,t){return Object(O.jsx)(Y,{callback:P},t)}))]})}),Object(O.jsxs)(y.a,{children:[Object(O.jsx)(g.a,{onClick:z,color:"primary",children:"Cancel"}),Object(O.jsx)(g.a,{onClick:function(){0!==p.length&&t(p),z()},variant:"outlined",color:"primary",children:"Show Results"})]})]})]})},M=function(e){var t=e.searchValue,n=e.advancedSearchQuery;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"navcontainer",children:[Object(O.jsxs)("div",{className:"logo",children:["News",Object(O.jsx)("span",{children:"Reader"})]}),Object(O.jsx)(p,{searchValue:function(e){t(e)}}),Object(O.jsx)(P,{callback:function(e){n(e)}})]})})},U=(n(192),n(20)),B=n.n(U),T=function(e){return e.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{date:B()(e.date).format("LL")})}))},R=function(){var e=Object(L.a)(_.a.mark((function e(){var t,n,c,a,r,s,i,o,u,l,d,j,b,f,O,h,p,m=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},n=t.query,c=void 0===n?"iphone":n,a=t.sentiment,r=void 0===a?"":a,s=t.start_date,i=void 0===s?B()().subtract(65,"days").format("YYYY-MM-DD"):s,o=t.end_date,u=void 0===o?B()().format("YYYY-MM-DD"):o,l=t.source_id,d=void 0===l?"277%2C4171":l,j=t.category_id,b=void 0===j?"13010000%2C04018000":j,f="IHEwbeb7kN3f7I3Qizc1FqAJVexvcKUE",O="https://get.scrapehero.com/news-api/news/?q=".concat(c).concat(""!==r?"&sentiment":"").concat(r,"&start_date=").concat(i,"&end_date=").concat(u,"&source_id=").concat(d,"&category_id=").concat(b,"&x-api-key=").concat(f),e.next=5,fetch(O);case 5:return e.next=7,e.sent.json();case 7:return h=e.sent,p=h.result.data,e.abrupt("return",T(p));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.Health="health",e.ScienceAndTechnology="science and technology"}(c||(c={})),function(e){e.Neutral="Neutral",e.Positive="Positive",e.Negative="Negative"}(a||(a={}));var G=n(144),X=n.n(G),Z=n(329),$=n(320),ee=n(321),te=function(e){var t=e.title,n=e.sentiment,c=e.publication,r=e.date,o=e.callback,u=e.id,l=Object(i.useState)(""),d=Object(s.a)(l,2),j=d[0],b=d[1];return Object(i.useEffect)((function(){switch(n){case a.Positive:b("green");break;case a.Neutral:b("gray");break;case a.Negative:b("red")}}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z.a,{onClick:function(){return o(u)},button:!0,children:Object(O.jsxs)($.a,{children:[Object(O.jsx)("h3",{className:"date",children:r}),Object(O.jsx)("p",{className:"heading",children:t}),Object(O.jsxs)("div",{className:"pub",children:[Object(O.jsx)(X.a,{style:{color:j}}),Object(O.jsx)("h3",{style:{margin:0},children:c})]})]})}),Object(O.jsx)(ee.a,{})]})},ne=n(340),ce=n(322),ae=n(323),re=(n(193),n(194),ae.a.RangePicker),se=function(e){var t=e.filternews,n=i.useState([null,null]),c=Object(s.a)(n,2),a=c[0],r=c[1];return Object(i.useEffect)((function(){t(a)}),[a]),Object(O.jsx)(ce.a,{dateAdapter:d.a,children:Object(O.jsx)(re,{style:{width:"100%"},ranges:{Today:[B()(),B()()],"This Month":[B()().startOf("month"),B()().endOf("month")],"Last 60 Days":[B()().subtract(60,"days"),B()()]},onChange:function(e){r(null!==e?[B()(e[0]).toDate(),B()(e[1]).toDate()]:[null,null])}})})},ie=function(e){var t=e.news,n=e.selectedArticle,c=e.filternews,a=function(e){n(e)};return Object(O.jsxs)("div",{className:"sidebar",children:[Object(O.jsx)("div",{className:"datepicker",children:Object(O.jsx)(se,{filternews:function(e){c(e)}})}),Object(O.jsx)(ne.a,{style:{maxHeight:725,overflow:"auto"},children:t.map((function(e){return Object(O.jsx)(te,Object(m.a)({callback:a},e),e.id)}))})]})},oe=(n(262),function(e){var t=e.news;return t?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"maincontainer",style:{maxHeight:730,overflow:"auto"},children:[Object(O.jsx)("div",{className:"maintitle",children:t.title}),Object(O.jsxs)("div",{className:"publisherndate",children:[Object(O.jsx)("p",{className:"publishername",children:t.publication}),Object(O.jsx)("p",{className:"newsdate",children:t.date})]}),Object(O.jsx)("p",{className:"newsdata",children:t.content})]})}):Object(O.jsx)("div",{className:"emptyView",children:Object(O.jsx)("h1",{children:"select a news article"})})}),ue=(n(263),function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)([]),o=Object(s.a)(a,2),u=o[0],l=o[1],j=Object(i.useState)(),b=Object(s.a)(j,2),f=b[0],h=b[1],p=Object(i.useState)("iphone"),m=Object(s.a)(p,2),x=m[0],g=m[1];Object(i.useEffect)((function(){R().then((function(e){c(e),l(e)}))}),[]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(ce.a,{dateAdapter:d.a,children:Object(O.jsxs)("div",{className:"appcontainer",children:[Object(O.jsx)("nav",{children:Object(O.jsx)(M,{searchValue:function(e){"undefined"!==typeof e&&(g(e),R({query:e}).then((function(e){return l(e)})))},advancedSearchQuery:function(e){var t,n,c;console.log(e),"undefined"!==typeof e.categoryQuery.categories&&e.categoryQuery.categories.length>0&&(t=e.categoryQuery.categories.map((function(e){return e.iptc_code})).join("%2C")),"undefined"!==typeof e.sourceQuery.sources&&e.sourceQuery.sources.length>0&&(n=e.sourceQuery.sources.map((function(e){return e.id})).join("%2C")),"undefined"!==typeof e.sentimentQuery.sentiments.sentiment&&(c=e.sentimentQuery.sentiments.sentiment),console.log(t,n,c),console.log(R({query:x,sentiment:c,category_id:t,source_id:n}).then((function(e){return l(e)})))}})}),Object(O.jsx)("main",{children:Object(O.jsx)(oe,{news:f})}),Object(O.jsx)("div",{id:"sidebar",children:Object(O.jsx)(ie,{news:u,selectedArticle:function(e){h(u.find((function(t){return t.id===e})))},filternews:function(e){if(null!==e&&null!==e[0]){var t=n.filter((function(t){var n="LL",c=B()(t.date,n),a=B()(e[0],n),r=B()(e[1],n);return!!c.isBetween(a,r,void 0,"[]")}));console.log(t),l(t)}else l(Object(r.a)(n))}})})]})})})});l.a.render(Object(O.jsx)(ue,{}),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.ae977f92.chunk.js.map